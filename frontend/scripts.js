function lastBubble(){var e=document.getElementsByClassName("chat__conversation-board__message-container");return e[e.length-1]}function chat(){var e=document.getElementById("input-user-prompt"),t=e.value.trim();if(""==t)return;var s=document.getElementsByClassName("chat__conversation-board__message-container")[0];let a=document.getElementsByClassName("chat__conversation-board__message-container reversed")[0].cloneNode(!0),n=s.cloneNode(!0);a.getElementsByClassName("usr-msg")[0].innerHTML=t,a.style.display="",lastBubble().after(a),e.value="";var r=new XMLHttpRequest;r.onreadystatechange=function(){4==this.readyState&&200==this.status&&(n.getElementsByClassName("bot-msg")[0].innerHTML=JSON.parse(this.responseText))},r.open("POST","/chat/",!0),r.setRequestHeader("Content-Type","application/json");var i=JSON.stringify({query:t});n.getElementsByClassName("bot-msg")[0].innerHTML="<img width='44' height='44' src='/static/typing.gif'/>",lastBubble().after(n),r.send(i)}